{% extends "index.html" %} {% block container %}

<div class="container p-5">
    <div class="card p-3">
        <h4 class="title-questions">Questions</h4>

        <form class="form" autocomplete="off" onsubmit="return saveAns()" action="/it/calculate-marks" method="POST">
            {% csrf_token %} 
            {% for question in questions%}
            <h5 class="text-info mt-3">{{ forloop.counter }}. {{question.name}}</h5>
            <h4 style="text-align: right;">[Marks {{question.score}}]</h4>

            <input type="hidden" name="csrfmiddlewaretoken" value="0L2qjMg546bsTbjJ2zgGCeInQXbh3RrNHxiqq1sAgB2YBnplKXcRrQsKdZyZmDuG">

            <div class="form-check mx-4">
                <input class="form-check-input" type="radio" name="{{ forloop.counter }}" id="{{question.answer1}}" value="Answer1">
                <label class="form-check-label" for="answer1">
                    {{question.answer1}}
                </label>
            </div>

            <div class="form-check mx-4">
                <input class="form-check-input" type="radio" name="{{ forloop.counter }}" id="{{question.answer2}}" value="Answer2">
                <label class="form-check-label" for="answer2">
                    {{question.answer2}}
                </label>
            </div>

            <div class="form-check mx-4">
                <input class="form-check-input" type="radio" name="{{ forloop.counter }}" id="{{question.answer3}}" value="Answer3">
                <label class="form-check-label" for="answer3">
                    {{question.answer3}}
                </label>
            </div>

            <div class="form-check mx-4">
                <input class="form-check-input" type="radio" name="{{ forloop.counter }}" id="{{question.answer4}}" value="Answer4">
                <label class="form-check-label" for="answer4">
                    {{question.answer4}}
                </label>
            </div>

            <div class="form-check mx-4">
                <input class="form-check-input" type="radio" name="{{ forloop.counter }}" id="{{question.answer5}}" value="Answer5">
                <label class="form-check-label" for="answer5">
                    {{question.answer5}}
                </label>
            </div>

            {% endfor %}
            <input class="btn btn-main  btn-lg mt-5" type="submit" value="Submit">
        </form>
    </div>
</div>

<script>
    function saveAns() {

        var ele = document.getElementsByTagName('input');
        for (i = 0; i < ele.length; i++) {
            if (ele[i].type = "radio") {
                if (ele[i].checked) {
                    setCookie(ele[i].name, ele[i].value, 3)
                }
            }
        }

    }

    function setCookie(cname, cvalue, exdays) {
        var d = new Date();
        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
        var expires = "expires=" + d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
    }
</script>
{% endblock container %}